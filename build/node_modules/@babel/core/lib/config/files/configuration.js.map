{"version":3,"sources":["../../../../../../../node_modules/@babel/core/lib/config/files/configuration.js"],"names":["Object","defineProperty","exports","value","findConfigUpwards","findRelativeConfig","findRootConfig","loadConfig","_debug","data","_interopRequireDefault","require","_path","_fs","_json","_resolve","_caching","_configApi","_utils","_patternToRegex","obj","__esModule","default","debug","BABEL_CONFIG_JS_FILENAME","BABELRC_FILENAME","BABELRC_JS_FILENAME","BABELIGNORE_FILENAME","rootDir","dirname","existsSync","join","nextDir","packageData","envName","caller","config","ignore","filepath","loc","directories","reduce","previousConfig","name","readConfig","Error","basename","pkgConfig","pkg","packageToBabelConfig","ignoreLoc","readIgnoreConfig","resolve","conf","sync","basedir","extname","readConfigJS","readConfigJSON5","LOADING_CONFIGS","Set","makeStrongCache","cache","forever","has","never","options","add","configModule","undefined","err","message","delete","configured","throwConfigError","Array","isArray","then","makeWeakCache","file","babel","makeStaticFileCache","content","parse","ignoreDir","ignorePatterns","split","map","line","replace","trim","filter","pattern"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findConfigUpwards = findConfigUpwards;\nexports.findRelativeConfig = findRelativeConfig;\nexports.findRootConfig = findRootConfig;\nexports.loadConfig = loadConfig;\n\nfunction _debug() {\n  const data = _interopRequireDefault(require(\"debug\"));\n\n  _debug = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _fs() {\n  const data = _interopRequireDefault(require(\"fs\"));\n\n  _fs = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _json() {\n  const data = _interopRequireDefault(require(\"json5\"));\n\n  _json = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _resolve() {\n  const data = _interopRequireDefault(require(\"resolve\"));\n\n  _resolve = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _caching = require(\"../caching\");\n\nvar _configApi = _interopRequireDefault(require(\"../helpers/config-api\"));\n\nvar _utils = require(\"./utils\");\n\nvar _patternToRegex = _interopRequireDefault(require(\"../pattern-to-regex\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst debug = (0, _debug().default)(\"babel:config:loading:files:configuration\");\nconst BABEL_CONFIG_JS_FILENAME = \"babel.config.js\";\nconst BABELRC_FILENAME = \".babelrc\";\nconst BABELRC_JS_FILENAME = \".babelrc.js\";\nconst BABELIGNORE_FILENAME = \".babelignore\";\n\nfunction findConfigUpwards(rootDir) {\n  let dirname = rootDir;\n\n  while (true) {\n    if (_fs().default.existsSync(_path().default.join(dirname, BABEL_CONFIG_JS_FILENAME))) {\n      return dirname;\n    }\n\n    const nextDir = _path().default.dirname(dirname);\n\n    if (dirname === nextDir) break;\n    dirname = nextDir;\n  }\n\n  return null;\n}\n\nfunction findRelativeConfig(packageData, envName, caller) {\n  let config = null;\n  let ignore = null;\n\n  const dirname = _path().default.dirname(packageData.filepath);\n\n  for (const loc of packageData.directories) {\n    if (!config) {\n      config = [BABELRC_FILENAME, BABELRC_JS_FILENAME].reduce((previousConfig, name) => {\n        const filepath = _path().default.join(loc, name);\n\n        const config = readConfig(filepath, envName, caller);\n\n        if (config && previousConfig) {\n          throw new Error(`Multiple configuration files found. Please remove one:\\n` + ` - ${_path().default.basename(previousConfig.filepath)}\\n` + ` - ${name}\\n` + `from ${loc}`);\n        }\n\n        return config || previousConfig;\n      }, null);\n      const pkgConfig = packageData.pkg && packageData.pkg.dirname === loc ? packageToBabelConfig(packageData.pkg) : null;\n\n      if (pkgConfig) {\n        if (config) {\n          throw new Error(`Multiple configuration files found. Please remove one:\\n` + ` - ${_path().default.basename(pkgConfig.filepath)}#babel\\n` + ` - ${_path().default.basename(config.filepath)}\\n` + `from ${loc}`);\n        }\n\n        config = pkgConfig;\n      }\n\n      if (config) {\n        debug(\"Found configuration %o from %o.\", config.filepath, dirname);\n      }\n    }\n\n    if (!ignore) {\n      const ignoreLoc = _path().default.join(loc, BABELIGNORE_FILENAME);\n\n      ignore = readIgnoreConfig(ignoreLoc);\n\n      if (ignore) {\n        debug(\"Found ignore %o from %o.\", ignore.filepath, dirname);\n      }\n    }\n  }\n\n  return {\n    config,\n    ignore\n  };\n}\n\nfunction findRootConfig(dirname, envName, caller) {\n  const filepath = _path().default.resolve(dirname, BABEL_CONFIG_JS_FILENAME);\n\n  const conf = readConfig(filepath, envName, caller);\n\n  if (conf) {\n    debug(\"Found root config %o in $o.\", BABEL_CONFIG_JS_FILENAME, dirname);\n  }\n\n  return conf;\n}\n\nfunction loadConfig(name, dirname, envName, caller) {\n  const filepath = _resolve().default.sync(name, {\n    basedir: dirname\n  });\n\n  const conf = readConfig(filepath, envName, caller);\n\n  if (!conf) {\n    throw new Error(`Config file ${filepath} contains no configuration data`);\n  }\n\n  debug(\"Loaded config %o from $o.\", name, dirname);\n  return conf;\n}\n\nfunction readConfig(filepath, envName, caller) {\n  return _path().default.extname(filepath) === \".js\" ? readConfigJS(filepath, {\n    envName,\n    caller\n  }) : readConfigJSON5(filepath);\n}\n\nconst LOADING_CONFIGS = new Set();\nconst readConfigJS = (0, _caching.makeStrongCache)((filepath, cache) => {\n  if (!_fs().default.existsSync(filepath)) {\n    cache.forever();\n    return null;\n  }\n\n  if (LOADING_CONFIGS.has(filepath)) {\n    cache.never();\n    debug(\"Auto-ignoring usage of config %o.\", filepath);\n    return {\n      filepath,\n      dirname: _path().default.dirname(filepath),\n      options: {}\n    };\n  }\n\n  let options;\n\n  try {\n    LOADING_CONFIGS.add(filepath);\n\n    const configModule = require(filepath);\n\n    options = configModule && configModule.__esModule ? configModule.default || undefined : configModule;\n  } catch (err) {\n    err.message = `${filepath}: Error while loading config - ${err.message}`;\n    throw err;\n  } finally {\n    LOADING_CONFIGS.delete(filepath);\n  }\n\n  if (typeof options === \"function\") {\n    options = options((0, _configApi.default)(cache));\n    if (!cache.configured()) throwConfigError();\n  }\n\n  if (!options || typeof options !== \"object\" || Array.isArray(options)) {\n    throw new Error(`${filepath}: Configuration should be an exported JavaScript object.`);\n  }\n\n  if (typeof options.then === \"function\") {\n    throw new Error(`You appear to be using an async configuration, ` + `which your current version of Babel does not support. ` + `We may add support for this in the future, ` + `but if you're on the most recent version of @babel/core and still ` + `seeing this error, then you'll need to synchronously return your config.`);\n  }\n\n  return {\n    filepath,\n    dirname: _path().default.dirname(filepath),\n    options\n  };\n});\nconst packageToBabelConfig = (0, _caching.makeWeakCache)(file => {\n  const babel = file.options[\"babel\"];\n  if (typeof babel === \"undefined\") return null;\n\n  if (typeof babel !== \"object\" || Array.isArray(babel) || babel === null) {\n    throw new Error(`${file.filepath}: .babel property must be an object`);\n  }\n\n  return {\n    filepath: file.filepath,\n    dirname: file.dirname,\n    options: babel\n  };\n});\nconst readConfigJSON5 = (0, _utils.makeStaticFileCache)((filepath, content) => {\n  let options;\n\n  try {\n    options = _json().default.parse(content);\n  } catch (err) {\n    err.message = `${filepath}: Error while parsing config - ${err.message}`;\n    throw err;\n  }\n\n  if (!options) throw new Error(`${filepath}: No config detected`);\n\n  if (typeof options !== \"object\") {\n    throw new Error(`${filepath}: Config returned typeof ${typeof options}`);\n  }\n\n  if (Array.isArray(options)) {\n    throw new Error(`${filepath}: Expected config object but found array`);\n  }\n\n  return {\n    filepath,\n    dirname: _path().default.dirname(filepath),\n    options\n  };\n});\nconst readIgnoreConfig = (0, _utils.makeStaticFileCache)((filepath, content) => {\n  const ignoreDir = _path().default.dirname(filepath);\n\n  const ignorePatterns = content.split(\"\\n\").map(line => line.replace(/#(.*?)$/, \"\").trim()).filter(line => !!line);\n\n  for (const pattern of ignorePatterns) {\n    if (pattern[0] === \"!\") {\n      throw new Error(`Negation of file paths is not supported.`);\n    }\n  }\n\n  return {\n    filepath,\n    dirname: _path().default.dirname(filepath),\n    ignore: ignorePatterns.map(pattern => (0, _patternToRegex.default)(pattern, ignoreDir))\n  };\n});\n\nfunction throwConfigError() {\n  throw new Error(`\\\nCaching was left unconfigured. Babel's plugins, presets, and .babelrc.js files can be configured\nfor various types of caching, using the first param of their handler functions:\n\nmodule.exports = function(api) {\n  // The API exposes the following:\n\n  // Cache the returned value forever and don't call this function again.\n  api.cache(true);\n\n  // Don't cache at all. Not recommended because it will be very slow.\n  api.cache(false);\n\n  // Cached based on the value of some function. If this function returns a value different from\n  // a previously-encountered value, the plugins will re-evaluate.\n  var env = api.cache(() => process.env.NODE_ENV);\n\n  // If testing for a specific env, we recommend specifics to avoid instantiating a plugin for\n  // any possible NODE_ENV value that might come up during plugin execution.\n  var isProd = api.cache(() => process.env.NODE_ENV === \"production\");\n\n  // .cache(fn) will perform a linear search though instances to find the matching plugin based\n  // based on previous instantiated plugins. If you want to recreate the plugin and discard the\n  // previous instance whenever something changes, you may use:\n  var isProd = api.cache.invalidate(() => process.env.NODE_ENV === \"production\");\n\n  // Note, we also expose the following more-verbose versions of the above examples:\n  api.cache.forever(); // api.cache(true)\n  api.cache.never();   // api.cache(false)\n  api.cache.using(fn); // api.cache(fn)\n\n  // Return the value that will be cached.\n  return { };\n};`);\n}"],"file":"configuration.js"}