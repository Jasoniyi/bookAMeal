{"version":3,"sources":["../../../../../../node_modules/@babel/cli/lib/babel/file.js"],"names":["Object","defineProperty","exports","value","default","_default","_convertSourceMap","data","_interopRequireDefault","require","_defaults","_sourceMap","_slash","_path","_fs","util","_interopRequireWildcard","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_x","_ref","cliOptions","babelOptions","buildResult","fileResults","map","SourceMapGenerator","file","sourceMapTarget","basename","outFile","sourceRoot","code","offset","result","consumer","SourceMapConsumer","sources","Set","eachMapping","mapping","source","add","addMapping","generated","line","generatedLine","column","generatedColumn","original","originalLine","originalColumn","forEach","content","sourceContentFor","setSourceContent","split","length","sourceMaps","fromObject","toComment","output","mapLoc","addSourceMappingUrl","writeFileSync","JSON","stringify","process","stdout","write","readStdin","stdin","setEncoding","on","chunk","read","_stdin","res","transform","filename","sourceFileName","walk","_x2","_walk","filenames","_filenames","existsSync","stat","statSync","isDirectory","dirname","readdirForCompilable","includeDotfiles","extensions","push","join","results","all","_ref2","sourceFilename","relative","compile","watch","console","_x4","files","_x3","_files","skipInitialBuild","chokidar","requireChokidar","persistent","ignoreInitial","awaitWriteFinish","stabilityThreshold","pollInterval","type","isCompilableExtension","verbose","log","catch"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nfunction _convertSourceMap() {\n  const data = _interopRequireDefault(require(\"convert-source-map\"));\n\n  _convertSourceMap = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _defaults() {\n  const data = _interopRequireDefault(require(\"lodash/defaults\"));\n\n  _defaults = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _sourceMap() {\n  const data = _interopRequireDefault(require(\"source-map\"));\n\n  _sourceMap = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _slash() {\n  const data = _interopRequireDefault(require(\"slash\"));\n\n  _slash = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _fs() {\n  const data = _interopRequireDefault(require(\"fs\"));\n\n  _fs = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar util = _interopRequireWildcard(require(\"./util\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _default(_x) {\n  return _ref.apply(this, arguments);\n}\n\nfunction _ref() {\n  _ref = _asyncToGenerator(function* ({\n    cliOptions,\n    babelOptions\n  }) {\n    function buildResult(fileResults) {\n      const map = new (_sourceMap().default.SourceMapGenerator)({\n        file: cliOptions.sourceMapTarget || _path().default.basename(cliOptions.outFile || \"\") || \"stdout\",\n        sourceRoot: babelOptions.sourceRoot\n      });\n      let code = \"\";\n      let offset = 0;\n\n      for (const result of fileResults) {\n        if (!result) continue;\n        code += result.code + \"\\n\";\n\n        if (result.map) {\n          const consumer = new (_sourceMap().default.SourceMapConsumer)(result.map);\n          const sources = new Set();\n          consumer.eachMapping(function (mapping) {\n            if (mapping.source != null) sources.add(mapping.source);\n            map.addMapping({\n              generated: {\n                line: mapping.generatedLine + offset,\n                column: mapping.generatedColumn\n              },\n              source: mapping.source,\n              original: mapping.source == null ? null : {\n                line: mapping.originalLine,\n                column: mapping.originalColumn\n              }\n            });\n          });\n          sources.forEach(source => {\n            const content = consumer.sourceContentFor(source, true);\n\n            if (content !== null) {\n              map.setSourceContent(source, content);\n            }\n          });\n          offset = code.split(\"\\n\").length - 1;\n        }\n      }\n\n      if (babelOptions.sourceMaps === \"inline\" || !cliOptions.outFile && babelOptions.sourceMaps) {\n        code += \"\\n\" + _convertSourceMap().default.fromObject(map).toComment();\n      }\n\n      return {\n        map: map,\n        code: code\n      };\n    }\n\n    function output(fileResults) {\n      const result = buildResult(fileResults);\n\n      if (cliOptions.outFile) {\n        if (babelOptions.sourceMaps && babelOptions.sourceMaps !== \"inline\") {\n          const mapLoc = cliOptions.outFile + \".map\";\n          result.code = util.addSourceMappingUrl(result.code, mapLoc);\n\n          _fs().default.writeFileSync(mapLoc, JSON.stringify(result.map));\n        }\n\n        _fs().default.writeFileSync(cliOptions.outFile, result.code);\n      } else {\n        process.stdout.write(result.code + \"\\n\");\n      }\n    }\n\n    function readStdin() {\n      return new Promise((resolve, reject) => {\n        let code = \"\";\n        process.stdin.setEncoding(\"utf8\");\n        process.stdin.on(\"readable\", function () {\n          const chunk = process.stdin.read();\n          if (chunk !== null) code += chunk;\n        });\n        process.stdin.on(\"end\", function () {\n          resolve(code);\n        });\n        process.stdin.on(\"error\", reject);\n      });\n    }\n\n    function stdin() {\n      return _stdin.apply(this, arguments);\n    }\n\n    function _stdin() {\n      _stdin = _asyncToGenerator(function* () {\n        const code = yield readStdin();\n        const res = yield util.transform(cliOptions.filename, code, (0, _defaults().default)({\n          sourceFileName: \"stdin\"\n        }, babelOptions));\n        output([res]);\n      });\n      return _stdin.apply(this, arguments);\n    }\n\n    function walk(_x2) {\n      return _walk.apply(this, arguments);\n    }\n\n    function _walk() {\n      _walk = _asyncToGenerator(function* (filenames) {\n        const _filenames = [];\n        filenames.forEach(function (filename) {\n          if (!_fs().default.existsSync(filename)) return;\n\n          const stat = _fs().default.statSync(filename);\n\n          if (stat.isDirectory()) {\n            const dirname = filename;\n            util.readdirForCompilable(filename, cliOptions.includeDotfiles, cliOptions.extensions).forEach(function (filename) {\n              _filenames.push(_path().default.join(dirname, filename));\n            });\n          } else {\n            _filenames.push(filename);\n          }\n        });\n        const results = yield Promise.all(_filenames.map(function () {\n          var _ref2 = _asyncToGenerator(function* (filename) {\n            let sourceFilename = filename;\n\n            if (cliOptions.outFile) {\n              sourceFilename = _path().default.relative(_path().default.dirname(cliOptions.outFile), sourceFilename);\n            }\n\n            sourceFilename = (0, _slash().default)(sourceFilename);\n\n            try {\n              return yield util.compile(filename, (0, _defaults().default)({\n                sourceFileName: sourceFilename,\n                sourceMaps: babelOptions.sourceMaps === \"inline\" ? true : babelOptions.sourceMaps\n              }, babelOptions));\n            } catch (err) {\n              if (!cliOptions.watch) {\n                throw err;\n              }\n\n              console.error(err);\n              return null;\n            }\n          });\n\n          return function (_x4) {\n            return _ref2.apply(this, arguments);\n          };\n        }()));\n        output(results);\n      });\n      return _walk.apply(this, arguments);\n    }\n\n    function files(_x3) {\n      return _files.apply(this, arguments);\n    }\n\n    function _files() {\n      _files = _asyncToGenerator(function* (filenames) {\n        if (!cliOptions.skipInitialBuild) {\n          yield walk(filenames);\n        }\n\n        if (cliOptions.watch) {\n          const chokidar = util.requireChokidar();\n          chokidar.watch(filenames, {\n            persistent: true,\n            ignoreInitial: true,\n            awaitWriteFinish: {\n              stabilityThreshold: 50,\n              pollInterval: 10\n            }\n          }).on(\"all\", function (type, filename) {\n            if (!util.isCompilableExtension(filename, cliOptions.extensions)) {\n              return;\n            }\n\n            if (type === \"add\" || type === \"change\") {\n              if (cliOptions.verbose) {\n                console.log(type + \" \" + filename);\n              }\n\n              walk(filenames).catch(err => {\n                console.error(err);\n              });\n            }\n          });\n        }\n      });\n      return _files.apply(this, arguments);\n    }\n\n    if (cliOptions.filenames.length) {\n      yield files(cliOptions.filenames);\n    } else {\n      yield stdin();\n    }\n  });\n  return _ref.apply(this, arguments);\n}"],"file":"file.js"}